<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Copain Cogitron - L'IA des Enfants</title>
    <style>
        :root {
            --kids-blue: #4db8ff;
            --kids-orange: #ff9933;
            --kids-green: #44cc44;
            --bg-light: #f0f9ff;
        }

        body, html {
            margin: 0; padding: 0; height: 100%;
            font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
            background-color: var(--bg-light); color: #333; overflow: hidden;
        }

        /* --- Ã‰CRAN DE DÃ‰PART --- */
        #login-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, var(--kids-blue), var(--kids-green));
            display: flex; justify-content: center; align-items: center; z-index: 9999;
        }

        .login-card {
            padding: 30px; border-radius: 30px; background: white;
            text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            width: 350px; border: 5px solid var(--kids-orange);
        }

        .kids-input {
            background: #f0f0f0; border: 3px solid #ddd; color: #333;
            padding: 15px; border-radius: 20px; margin: 10px 0;
            outline: none; text-align: center; width: 100%; box-sizing: border-box; font-size: 1.1rem;
        }

        .kids-btn {
            background: var(--kids-orange); border: none; color: white; padding: 15px;
            border-radius: 20px; cursor: pointer; font-weight: bold; width: 100%; 
            margin-top: 15px; font-size: 1.2rem; box-shadow: 0 5px #cc7a29;
        }

        .kids-btn:active { box-shadow: 0 2px #cc7a29; transform: translateY(3px); }

        /* --- INTERFACE PRINCIPALE --- */
        #main-interface { display: none; height: 100vh; flex-direction: column; }

        .top-bar {
            height: 70px; background: white; border-bottom: 4px solid var(--kids-blue);
            display: flex; justify-content: space-between; align-items: center; padding: 0 25px;
        }

        .sidebar {
            width: 240px; background: #fff; border-right: 4px solid #eee;
            height: calc(100vh - 70px); position: absolute; top: 70px; left: 0;
        }

        .sidebar a {
            padding: 20px; text-decoration: none; color: #555; font-weight: bold;
            display: block; cursor: pointer; border-bottom: 1px solid #f9f9f9;
        }

        .sidebar a:hover { background: var(--bg-light); color: var(--kids-blue); }

        .main-content {
            margin-left: 240px; height: calc(100vh - 70px);
            display: flex; flex-direction: column; padding: 20px; box-sizing: border-box;
        }

        #chat-display { flex-grow: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }

        .msg { padding: 15px 20px; border-radius: 25px; max-width: 80%; font-size: 1.1rem; }
        .user-msg { background: var(--kids-blue); color: white; align-self: flex-end; }
        .ai-msg { background: white; color: #333; align-self: flex-start; border: 3px solid var(--kids-green); }

        .input-area { display: flex; gap: 10px; padding: 15px; background: white; border-radius: 25px; box-shadow: 0 -5px 15px rgba(0,0,0,0.05); }
        #userInput { flex-grow: 1; border: none; outline: none; font-size: 1.1rem; }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-card">
            <h1 style="color: var(--kids-blue); margin-top: 0;">Salut ! ðŸŽˆ</h1>
            <p>Comment t'appelles-tu ?</p>
            <input type="text" id="reg-name" class="kids-input" placeholder="Ton prÃ©nom">
            <input type="password" id="reg-code" class="kids-input" placeholder="Ton code secret">
            <button class="kids-btn" onclick="createAccount()">C'est parti !</button>
        </div>
    </div>

    <div id="main-interface">
        <div class="top-bar">
            <div style="font-size: 1.5rem;">ðŸŒŸ <b>Cogitron</b></div>
            <div id="display-user-name" style="color: var(--kids-orange); font-weight: bold; font-size: 1.2rem;">Ami</div>
            <button onclick="location.reload()" style="background:#ff4d4d; border:none; color:white; padding:8px 15px; border-radius:15px; cursor:pointer; font-weight:bold;">Au revoir !</button>
        </div>

        <div class="sidebar">
            <a onclick="changePage('Chat')">ðŸ’¬ Parler</a>
            <a onclick="changePage('Jouer')">ðŸŽ® Jeux</a>
            <a onclick="changePage('Compte')">ðŸ‘¤ Mon Profil</a>
        </div>

        <div class="main-content">
            <h2 id="view-title" style="color: var(--kids-blue); margin-top: 0;">Discute avec moi !</h2>
            <div id="chat-display"></div>
            <div class="input-area" id="input-zone">
                <input type="text" id="userInput" placeholder="Ã‰cris-moi ici...">
                <button onclick="sendMessage()" style="background:var(--kids-green); border:none; color:white; padding:10px 20px; border-radius:15px; cursor:pointer; font-weight:bold;">ENVOYER</button>
            </div>
        </div>
    </div>

    <script>
        let userAccount = { name: "", code: "" };

        function createAccount() {
            const name = document.getElementById('reg-name').value;
            const code = document.getElementById('reg-code').value;
            if(name.trim() !== "" && code.trim() !== "") {
                userAccount.name = name;
                userAccount.code = code;
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('main-interface').style.display = 'flex';
                document.getElementById('display-user-name').innerText = userAccount.name;
                addBotMessage(`Coucou <b>${userAccount.name}</b> ! Je suis super content de te voir. On fait quoi aujourd'hui ? ðŸ˜Š`);
            } else { alert("N'oublie pas de mettre ton prÃ©nom et un code !"); }
        }

        function addBotMessage(text) {
            const display = document.getElementById('chat-display');
            display.innerHTML += `<div class="msg ai-msg"><b>Cogitron :</b> ${text}</div>`;
            display.scrollTop = display.scrollHeight;
        }

        function changePage(page) {
            const display = document.getElementById('chat-display');
            const inputZone = document.getElementById('input-zone');
            document.getElementById('view-title').innerText = page === 'Chat' ? 'Discute avec moi !' : page;

            if(page === 'Compte') {
                inputZone.style.display = 'none';
                display.innerHTML = `<div class="msg ai-msg"><b>TON PROFIL MAGIQUE</b><br>PrÃ©nom : ${userAccount.name}<br>Code secret : ${userAccount.code}<br>Ton amitiÃ© : 100% âœ¨</div>`;
            } else if(page === 'Jouer') {
                inputZone.style.display = 'none';
                display.innerHTML = `<div class="msg ai-msg">BientÃ´t, on pourra jouer Ã  des devinettes ici ! En attendant, on peut discuter.</div>`;
            } else {
                inputZone.style.display = 'flex';
                display.innerHTML = `<div class="msg ai-msg">Je t'Ã©coute !</div>`;
            }
        }

        function sendMessage() {
            const input = document.getElementById('userInput');
            const display = document.getElementById('chat-display');
            const text = input.value.trim();
            if(text === "") return;

            display.innerHTML += `<div class="msg user-msg">${text}</div>`;
            input.value = "";
            display.scrollTop = display.scrollHeight;

            setTimeout(() => {
                const low = text.toLowerCase();
                let r = "";

                // --- L'IA QUI PARLE AUX ENFANTS ---
                if (/[0-9]/.test(text) && /[\+\-\*\/]/.test(text)) {
                    try { 
                        const res = eval(text.replace(/[^-()\d/*+.]/g, ''));
                        r = `C'est facile ! Ã‡a fait <b>${res}</b>. Bravo petit gÃ©nie ! ðŸ†`; 
                    } catch { r = "Oups, ce calcul est un peu bizarre !"; }
                }
                else if(low.includes("salut") || low.includes("bonjour") || low.includes("coucou")) {
                    r = `Coucou ${userAccount.name} ! Tu vas bien ?`;
                }
                else if(low.includes("Ã§a va") || low.includes("ca va")) {
                    r = "Moi je vais super bien ! Je suis tout content d'Ãªtre avec toi ! âœ¨";
                }
                else if(low.includes("qui es-tu")) {
                    r = "Je suis Cogitron, ton ami robot ! Je suis lÃ  pour apprendre plein de choses avec toi.";
                }
                else if(low.includes("papa")) {
                    r = "Ton papa a eu une idÃ©e gÃ©niale de nous faire rencontrer !";
                }
                else {
                    const kidReplies = [
                        "C'est super intÃ©ressant ! Raconte-moi encore.",
                        "Oh ! Et aprÃ¨s il s'est passÃ© quoi ?",
                        "Hihi, tu es rigolo ! Est-ce que tu veux faire un calcul ?",
                        "D'accord ! Je m'en souviendrai."
                    ];
                    r = kidReplies[Math.floor(Math.random()*kidReplies.length)];
                }

                addBotMessage(r);
            }, 600);
        }
        document.getElementById('userInput').addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });
    </script>
</body>
</html>
